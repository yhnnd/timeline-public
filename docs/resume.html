<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yu Haining's Résumé</title>
</head>
<body>
  <style>
    body {
      font-family: "Microsoft YaHei Light";
    }
    body:has(dialog[open]) .dialog-wrapper {
      display: flex;
      z-index: 1000;
    }
    body:has(dialog[open]) .desktop {
      backdrop-filter: brightness(.5);
      filter: brightness(.5);
      overflow: hidden;
    }
    .dialog-wrapper {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      min-width: 800px;
      width: max(100%, 100vw);
      height: max(100%, 100vh);
      align-items: center;
    }
    dialog {
      height: 80px;
      min-height: 80px;
      max-height: 80px;
    }
    dialog > form {
      position: absolute;
      bottom: 0;
      margin-bottom: 16px;
    }
    a {
      color: unset;
      text-decoration: none;
    }
    .desktop {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1;
      min-width: 800px;
      width: max(100%, 100vw);
      height: max(100%, 100vh);
      overflow-x: visible;
      overflow-y: scroll;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: white;
    }
    .paper {
      min-width: 800px;
      max-width: 800px;
      min-height: 1125px;
      max-height: 1125px;
      border: 1px solid lightgray;
      padding: 32px;
      background-color: white;
      margin: 48px auto;
    }
    .page {
      border: 1px solid white;
      height: 100%;
    }
    .resume-title {
      font-weight: lighter;
      font-size: 32px;
      padding: 20px;
      text-align: center;
      text-transform: capitalize;
    }
    .section-title {
      background-color: black;
      padding: 10px;
      color: lightgray;
      text-transform: capitalize;
      min-height: 22px;
      max-height: 22px;
    }
    .section-title .dingbat {
      color: lightgoldenrodyellow;
      padding-right: 10px;
    }
    .section-content {
      min-height: 200px;
      padding-left: 32px;
    }
    dl {
      width: 100%;
    }
    .row > dl {
      width: 50%;
    }
    dl > div {
      margin-bottom: 10px;
    }
    dl > div:has(dd) {
      display: flex;
    }
    dt, dd {
      display: inline-block;
    }
    dd {
      margin-inline-start: unset;
    }
    dt {
      width: 240px;
    }
    .left dl > div {
      position: relative;
      z-index: 20;
    }
    body[is-mac] .left dl > div {
      height: 21.52px;
    }
    .left dl > div > dt,
    .left dl > div > dd {
      display: inline-block;
      width: unset;
    }
    .left dt {
      padding-right: 12px;
      background-color: white;
    }
    .left dd {
      border-right: 24px solid rgba(255, 255, 255, .5);
    }
    dd {
      width: calc(100% - 245px);
    }
    .row > dl dt {
      width: 100px;
    }
    .row > dl dd {
      width: calc(100% - 105px);
    }
    .row {
      display: flex;
    }
    .row.rotate {
      width: 1000px;
      perspective: 800px;
      perspective-origin: center;
    }
    .left {
      width: 600px;
    }
    .sidebar {
      width: 200px;
      background-color: bisque;
      padding: 30px 0;
      transition: all .3s;
    }
    .sidebar.rotate {
      width: 224px;
      transform: rotateY(-33.333deg);
      position: relative;
      left: -7.5px;
    }
    .timeline {
      border-left: 10px solid royalblue;
      margin-left: 30px;
      height: 480px;
      width: 140px;
      background-color: aquamarine;
    }
    .timeline > .node {
      margin-top: 9px;
      margin-bottom: 9px;
      margin-left: 25px;
      font-family: Arial, Helvetica, sans-serif;
      background-color: white;
      padding: 2px 0 2px 4px;
      width: 64px;
      position: relative;
    }
    .timeline > .node::before {
      width: 6px;
      height: 5px;
      border: 4px solid black;
      content: '';
      background-color: white;
      position: absolute;
      top: 5px;
      left: -37px;
      z-index: 10;
    }
    .timeline > .node::after {
      width: 25px;
      height: 5px;
      content: '';
      background-color: royalblue;
      position: absolute;
      top: 9px;
      left: -25px;
      transition: all .3s;
    }
    .timeline > .divider {
      height: 30px;
      width: 10px;
      margin-top: 22px;
      margin-bottom: 21px;
      margin-left: -10px;
      background-color: bisque;
    }
    .sidebar.rotate:hover {
      transform: unset;
      left: 0;
    }
    .sidebar.rotate:hover .timeline > .node::after {
      width: 670px;
      left: -670px;
    }
    .iframe-row {
      width: 100%;
      height: 200px;
      margin-top: 16px;
      display: flex;
      gap: 48px;
    }
    .iframe-col {
      display: inline-block;
      width: 300px;
      height: 200px;
      position: relative;
      overflow: hidden;
    }
    .iframe-cover {
      width: 100%;
      height: 100%;
      position: absolute;
      z-index: 2;
      background-color: white;
      transition: background-color 3s ease-in, transform .1s;
      cursor: pointer;
      transform-origin: left top;
    }
    .iframe-cover::before {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      content: "loading";
      background-color: white;
    }
    .iframe-cover.loaded {
      background-color: transparent;
    }
    .iframe-cover.loaded::before {
      display: none;
    }
    .iframe-zoomer {
      width: 1200px;
      height: 800px;
      transform: scale(.25);
      transform-origin: left top;
      transition: transform .1s;
    }
    .iframe-cover.loaded:hover {
      transform: scale(1.025);
    }
    .iframe-cover.loaded:hover + .iframe-zoomer {
      transform: scale(calc(.25 * 1.025));
    }
    .clickable {
      cursor: pointer;
      color: royalblue;
    }
  </style>
  <div class="dialog-wrapper"><dialog></dialog></div>
  <div class="desktop">
    <div class="paper">
      <div class="page">
        <div class="resume-title">résumé</div>
        <section>
          <div class="section-title">
            <span class="dingbat">➣</span>
            <span>basic info</span>
          </div>
          <div class="section-content">
            <div class="row" id="profile">
            </div>
          </div>
        </section>
        <div class="row rotate">
          <div class="left" style="width: 640px;">
            <section>
              <div class="section-title">
                <span class="dingbat">➣</span>
                <span>education</span>
              </div>
              <div class="section-content">
                <dl id="education"></dl>
              </div>
            </section>
            <section>
              <div class="section-title">
                <span class="dingbat">➣</span>
                <span>work experience</span>
              </div>
              <div class="section-content">
                <dl id="work-experience"></dl>
              </div>
            </section>
          </div>
          <div class="sidebar rotate">
            <div class="timeline" id="timeline">
            </div>
          </div>
        </div>
        <section>
          <div class="section-title">
            <span class="dingbat">➣</span>
            <span>skills</span>
          </div>
          <div class="section-content">
            <dl id="skills"></dl>
          </div>
        </section>
      </div>
    </div>
    <div class="paper">
      <div class="page">
        <section>
          <div class="section-title">
            <span class="dingbat">➣</span>
            <span>projects</span>
          </div>
          <div class="section-content">
            <div class="iframe-row">
              <div class="iframe-col">
                <div class="iframe-cover" data-url="https://yhnnd.github.io/timeline-public/bookstore/bookstore.html"></div>
                <div class="iframe-zoomer">
                  <iframe src="https://yhnnd.github.io/timeline-public/bookstore/bookstore.html" frameborder="0" style="width: 100%; height: 100%;" onload="iframeLoaded()"></iframe>
                </div>
              </div>
              <div class="iframe-col">
                <div class="iframe-cover" data-url="https://yhnnd.github.io/timeline-public/demo/index.html"></div>
                <div class="iframe-zoomer">
                  <iframe src="https://yhnnd.github.io/timeline-public/demo/index.html" frameborder="0" style="width: 100%; height: 100%;" onload="iframeLoaded()"></iframe>
                </div>
              </div>
            </div>
            <dl id="links"></dl>
          </div>
        </section>
        <section>
          <div class="section-title">
            <span class="dingbat">➣</span>
            <span>prizes</span>
          </div>
          <div class="section-content">
            <dl id=prizes></dl>
          </div>
        </section>
      </div>
    </div>
  </div>
  <script>
    const profileData = [
      [{
        dt: "name",
        dd: "yu haining"
      }, {
        dt: "sex",
        dd: "male"
      }, {
        dt: "year of birth",
        dd: "1996"
      }, {
        dt: "e-mail",
        dd: "yhn1210460391@icloud.com"
      }],
      [{
        dt: "university",
        dd: "tianjin polytechnic university"
      }, {
        dt: "major",
        dd: "software engineering"
      }, {
        dt: "occupation",
        dd: "web developer"
      }, {
        dt: "github",
        dd: "yhnnd"
      }]
    ];
    const educationData = [{
      dt: "● win many prices",
      info: "2016"
    }, {
      dt: "● win lanqiao cup",
      info: "2017"
    }, {
      dt: "● develop BookStore",
      info: "4/2017"
    }, {
      dt: "● develop ChatRoom",
      info: "6/2017"
    }, {
      dt: "● develop Wego C Language Tutorials",
      info: "6/2017"
    }, {
      dt: "● develop WeCard",
      info: "3/2018"
    }, {
      dt: "● graduate from TJPU with a bachelor degree of software engineering",
      info: "6/2019"
    }];
    const workExperienceData = [{
      dt: "● Anhui Fuchi Information Technology Co., Ltd.",
      info: "8/2018"
    }, {
      dt: "● Standard Chartered Global Business Services Co., Ltd.",
      info: "4/2019"
    }, {
      dt: "● Desmo Labs",
      info: "2/2023"
    }, {
      dt: "● Huawei Technologies Co., Ltd.",
      info: "12/2023"
    }];
    const skillsData = [{
      dt: "● C/C++",
      dd: "developed many C/C++ programs including WordLab"
    }, {
      dt: "● HTML/CSS/JavaScript",
      dd: "developed many websites such as BookStore, Wego C Language Tutorials, ChatRoom, WeCard, Timeline, Web3Hub, Demo Website"
    }, {
      dt: "● Java",
      dd: "developed back-end for BookStore, ChatRoom"
    }, {
      dt: "● Python",
      dd: "I use python to fetch papers of Machine Learning"
    }, {
      dt: "● Go",
      dd: "developed WordLab Go, a website powered by WordLab"
    }];
    // const booksData = [{
    //   dt: "the black book",
    //   dd: "life from 2014 to 2017, in high school and college"
    // }, {
    //   dt: "the brown book",
    //   dd: "life from 2017 to 2018, in college"
    // }, {
    //   dt: "the big brown book",
    //   dd: "life from 2018 to 2019, after i came back to tianjin from peking"
    // }, {
    //   dt: "the way out",
    //   dd: "life from 2023 to 2024, after i came back to tianjin from inner mongolia"
    // }];
    const prizesData = [
      "天津工业大学 耀华杯 计算机 C 语言知识竞赛二等奖(专业组)",
      "天津工业大学(单科成绩优异)奖学金",
      "天津工业大学校长三等奖学金",
      "天津工业大学 耀华杯 计算机 C 语言知识竞赛一等奖(专业组)",
      "天津工业大学 兴华杯 英语竞赛一等奖(非专业组)",
      "蓝桥杯竞赛三等奖"
    ];
    const hyperTexts = {
      "WordLab": "https://yhnnd.github.io/wordlab/Architecture.html",
      "BookStore": "https://yhnnd.github.io/timeline-public/bookstore/bookstore.html",
      "Wego C Language Tutorials": "https://yhnnd.github.io/timeline-public/wego-c-tutorials/index.html",
      "ChatRoom": "https://yhnnd.github.io/timeline-public/chatroom/src/main/webapp/index.html",
      "WeCard": "https://yhnnd.github.io/timeline-public/",
      "Timeline": "https://yhnnd.github.io/timeline-public/timeline-public/",
      "Web3Hub": "https://yhnnd.github.io/timeline-public/web3hub/index.html",
      "Demo Website": "https://yhnnd.github.io/timeline-public/demo/index.html",
      "Résumé": "https://yhnnd.github.io/timeline-public/resume.html",
      "iOS Button JS": [
        "https://yhnnd.github.io/timeline-public/js/timeline/ios-button-2024.js",
        "https://yhnnd.github.io/timeline-public/timeline-public/css/ios-button.css"
      ],
      "Console JS": "https://yhnnd.github.io/timeline-public/wego-c-tutorials/js/console.js",
      "Editor JS": [
        "https://yhnnd.github.io/timeline-public/js/vendor/editor.js",
        "https://yhnnd.github.io/timeline-public/css/form-control-v2-7.css"
      ],
      "Navbar JS": [
        "https://yhnnd.github.io/timeline-public/js/timeline/navbar.js",
        "https://yhnnd.github.io/timeline-public/timeline-public/css/navbar.css"
      ]
    }

    let profileHtml = "";
    for (const dl of profileData) {
      profileHtml += "<dl>";
      for (const div of dl) {
        profileHtml += "<div><dt>" + div.dt + "</dt><dd>" + div.dd + "</dd></div>";
      }
      profileHtml += "</dl>";
    }
    const profile = document.getElementById("profile");
    profile.innerHTML = profileHtml;
    
    let educationHtml = "", workExperienceHtml = "", timelineHtml = "<div style='height: 19px;'></div>";
    for (const div of educationData) {
      educationHtml += "<div><dt>" + div.dt + "</dt><dd></dd></div>";
      timelineHtml += "<div class=node >" + div.info + "</div>";
    }
    timelineHtml += "<div class='divider'></div>";
    for (const div of workExperienceData) {
      workExperienceHtml += "<div><dt>" + div.dt + "</dt><dd></dd></div>";
      timelineHtml += "<div class=node >" + div.info + "</div>";
    }
    const education = document.getElementById("education");
    education.innerHTML = educationHtml;
    const workExperience = document.getElementById("work-experience");
    workExperience.innerHTML = workExperienceHtml;
    const timeline = document.getElementById("timeline");
    timeline.innerHTML = timelineHtml;

    function renderContent(data, domId) {
      let html = "";
      for (const div of data) {
        if (typeof div === "string") {
          html += "<div><dt style='width: 16px;'>●</dt><dd>" + div + "</dd></div>";
        } else {
          html += "<div><dt>" + div.dt + "</dt><dd>" + div.dd + "</dd></div>";
        }
      }
      const dom = document.getElementById(domId);
      if (dom) {
        dom.innerHTML = html;
      }
    }
    renderContent(skillsData, "skills");
    renderContent(prizesData, "prizes");

    let html = document.body.innerHTML, links = '';
    function appendLink (anchor, text, link) {
      links += "<div id='" + anchor + "'><dt><a href='#" + anchor + "'></a>" + text + "</dt><dd><span class=clickable onclick=openLink('" + link + "')>" + link + "</span></dd></div>";
    }
    for (const [text, link] of Object.entries(hyperTexts)) {
      const anchor = text.split(' ').join('_');
      html = html.replaceAll(text, "<span class='clickable' onclick=goto('" + anchor + "')>" + text + "</span>");
      if (typeof link === 'string') {
        appendLink(anchor, text, link);
      } else {
        for (let i = 0; i < link.length; ++i) {
          appendLink(anchor, i === 0 ? text : "", link[i]);
        }
      }
    }
    document.body.innerHTML = html;
    document.getElementById("links").innerHTML = links;
    if (window.navigator.platform === "MacIntel") {
      document.body.setAttribute("is-mac", "true");
    }

    function iframeLoaded () {
      document.querySelectorAll(".iframe-cover").forEach(e => {
        e.classList.add("loaded");
        const url = e.getAttribute("data-url");
        e.setAttribute("onclick", "openLink('" + url + "');");
      });
    }

    function goto(anchor) {
      document.querySelector("a[href='#" + anchor + "']").click();
      document.getElementById(anchor).setAttribute("style", "outline: 1px solid red; outline-offset: 6px;");
      setTimeout(() => {
        document.getElementById(anchor).setAttribute("style", "outline: unset");
      }, 1000);
    }

    function openLink(url) {
      const dialog = document.querySelector(".dialog-wrapper > dialog");
      dialog.setAttribute("open", true);
      dialog.innerHTML = "open link " + url + " ?<form method='dialog'>" +
        "<button onclick=window.open('" + url + "')>&nbsp;ok&nbsp;</button>" +
        "<button autofocus style='margin-left: 16px;'>close</button></form>";
    }
  </script>
</body>
</html>
